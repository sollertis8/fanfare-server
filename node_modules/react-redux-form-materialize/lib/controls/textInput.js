'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _classnames = require('classnames');

var _classnames2 = _interopRequireDefault(_classnames);

var _omit = require('lodash/omit');

var _omit2 = _interopRequireDefault(_omit);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _inputHelpers = require('../helpers/inputHelpers');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const TextInput = props => {
  const errors = (0, _inputHelpers.getErrors)(props);

  const fieldClassName = (0, _classnames2.default)('input-field', props.className);

  const iconColor = (0, _inputHelpers.getIconColor)(props);

  const inputClassName = (0, _classnames2.default)('validate', {
    invalid: errors.length
  });

  const labelClassName = (0, _inputHelpers.getLabelClassName)(props, errors);

  const inputProps = (0, _omit2.default)(props, ['placeholder', 'innerState', 'iconPrefix', 'className', 'messages', 'iconFactory', 'type', 'inputType']);

  const PrefixIcon = props.iconPrefix ? props.iconFactory(props.iconPrefix) : undefined;

  return _react2.default.createElement(
    'div',
    { className: fieldClassName },
    PrefixIcon && _react2.default.createElement(PrefixIcon, { className: 'prefix', color: iconColor }),
    _react2.default.createElement('input', (0, _extends3.default)({}, inputProps, { type: props.inputType || props.type, className: inputClassName })),
    _react2.default.createElement(
      'label',
      { htmlFor: props.id, className: labelClassName, 'data-error': errors },
      props.placeholder
    )
  );
};

TextInput.propTypes = {
  innerState: _propTypes2.default.object.isRequired,
  iconPrefix: _propTypes2.default.string,
  iconFactory: _propTypes2.default.func,
  messages: _propTypes2.default.object
};

exports.default = TextInput;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb250cm9scy90ZXh0SW5wdXQuanMiXSwibmFtZXMiOlsiVGV4dElucHV0IiwicHJvcHMiLCJlcnJvcnMiLCJmaWVsZENsYXNzTmFtZSIsImNsYXNzTmFtZSIsImljb25Db2xvciIsImlucHV0Q2xhc3NOYW1lIiwiaW52YWxpZCIsImxlbmd0aCIsImxhYmVsQ2xhc3NOYW1lIiwiaW5wdXRQcm9wcyIsIlByZWZpeEljb24iLCJpY29uUHJlZml4IiwiaWNvbkZhY3RvcnkiLCJ1bmRlZmluZWQiLCJpbnB1dFR5cGUiLCJ0eXBlIiwiaWQiLCJwbGFjZWhvbGRlciIsInByb3BUeXBlcyIsImlubmVyU3RhdGUiLCJvYmplY3QiLCJpc1JlcXVpcmVkIiwic3RyaW5nIiwiZnVuYyIsIm1lc3NhZ2VzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7OztBQUVBLE1BQU1BLFlBQWFDLEtBQUQsSUFBVztBQUMzQixRQUFNQyxTQUFTLDZCQUFVRCxLQUFWLENBQWY7O0FBRUEsUUFBTUUsaUJBQWlCLDBCQUFHLGFBQUgsRUFBa0JGLE1BQU1HLFNBQXhCLENBQXZCOztBQUVBLFFBQU1DLFlBQVksZ0NBQWFKLEtBQWIsQ0FBbEI7O0FBRUEsUUFBTUssaUJBQWlCLDBCQUFHLFVBQUgsRUFBZTtBQUNwQ0MsYUFBU0wsT0FBT007QUFEb0IsR0FBZixDQUF2Qjs7QUFJQSxRQUFNQyxpQkFBaUIscUNBQWtCUixLQUFsQixFQUF5QkMsTUFBekIsQ0FBdkI7O0FBRUEsUUFBTVEsYUFBYSxvQkFBS1QsS0FBTCxFQUFZLENBQUMsYUFBRCxFQUFnQixZQUFoQixFQUE4QixZQUE5QixFQUM3QixXQUQ2QixFQUNoQixVQURnQixFQUNKLGFBREksRUFDVyxNQURYLEVBQ21CLFdBRG5CLENBQVosQ0FBbkI7O0FBR0EsUUFBTVUsYUFBYVYsTUFBTVcsVUFBTixHQUNmWCxNQUFNWSxXQUFOLENBQWtCWixNQUFNVyxVQUF4QixDQURlLEdBRWZFLFNBRko7O0FBSUEsU0FDRTtBQUFBO0FBQUEsTUFBSyxXQUFXWCxjQUFoQjtBQUNHUSxrQkFDRCw4QkFBQyxVQUFELElBQVksV0FBVSxRQUF0QixFQUErQixPQUFPTixTQUF0QyxHQUZGO0FBSUUsc0VBQVdLLFVBQVgsSUFBdUIsTUFBTVQsTUFBTWMsU0FBTixJQUFtQmQsTUFBTWUsSUFBdEQsRUFBNEQsV0FBV1YsY0FBdkUsSUFKRjtBQUtFO0FBQUE7QUFBQSxRQUFPLFNBQVNMLE1BQU1nQixFQUF0QixFQUEwQixXQUFXUixjQUFyQyxFQUFxRCxjQUFZUCxNQUFqRTtBQUNHRCxZQUFNaUI7QUFEVDtBQUxGLEdBREY7QUFXRCxDQS9CRDs7QUFpQ0FsQixVQUFVbUIsU0FBVixHQUFzQjtBQUNwQkMsY0FBWSxvQkFBVUMsTUFBVixDQUFpQkMsVUFEVDtBQUVwQlYsY0FBWSxvQkFBVVcsTUFGRjtBQUdwQlYsZUFBYSxvQkFBVVcsSUFISDtBQUlwQkMsWUFBVSxvQkFBVUo7QUFKQSxDQUF0Qjs7a0JBT2VyQixTIiwiZmlsZSI6InRleHRJbnB1dC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY24gZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgb21pdCBmcm9tICdsb2Rhc2gvb21pdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQgeyBnZXRFcnJvcnMsIGdldEljb25Db2xvciwgZ2V0TGFiZWxDbGFzc05hbWUgfSBmcm9tICcuLi9oZWxwZXJzL2lucHV0SGVscGVycyc7XG5cbmNvbnN0IFRleHRJbnB1dCA9IChwcm9wcykgPT4ge1xuICBjb25zdCBlcnJvcnMgPSBnZXRFcnJvcnMocHJvcHMpO1xuXG4gIGNvbnN0IGZpZWxkQ2xhc3NOYW1lID0gY24oJ2lucHV0LWZpZWxkJywgcHJvcHMuY2xhc3NOYW1lKTtcblxuICBjb25zdCBpY29uQ29sb3IgPSBnZXRJY29uQ29sb3IocHJvcHMpO1xuXG4gIGNvbnN0IGlucHV0Q2xhc3NOYW1lID0gY24oJ3ZhbGlkYXRlJywge1xuICAgIGludmFsaWQ6IGVycm9ycy5sZW5ndGgsXG4gIH0pO1xuXG4gIGNvbnN0IGxhYmVsQ2xhc3NOYW1lID0gZ2V0TGFiZWxDbGFzc05hbWUocHJvcHMsIGVycm9ycyk7XG5cbiAgY29uc3QgaW5wdXRQcm9wcyA9IG9taXQocHJvcHMsIFsncGxhY2Vob2xkZXInLCAnaW5uZXJTdGF0ZScsICdpY29uUHJlZml4JyxcbiAgICAnY2xhc3NOYW1lJywgJ21lc3NhZ2VzJywgJ2ljb25GYWN0b3J5JywgJ3R5cGUnLCAnaW5wdXRUeXBlJ10pO1xuXG4gIGNvbnN0IFByZWZpeEljb24gPSBwcm9wcy5pY29uUHJlZml4XG4gICAgPyBwcm9wcy5pY29uRmFjdG9yeShwcm9wcy5pY29uUHJlZml4KVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2ZpZWxkQ2xhc3NOYW1lfT5cbiAgICAgIHtQcmVmaXhJY29uICYmXG4gICAgICA8UHJlZml4SWNvbiBjbGFzc05hbWU9XCJwcmVmaXhcIiBjb2xvcj17aWNvbkNvbG9yfS8+XG4gICAgICB9XG4gICAgICA8aW5wdXQgey4uLmlucHV0UHJvcHN9IHR5cGU9e3Byb3BzLmlucHV0VHlwZSB8fCBwcm9wcy50eXBlfSBjbGFzc05hbWU9e2lucHV0Q2xhc3NOYW1lfS8+XG4gICAgICA8bGFiZWwgaHRtbEZvcj17cHJvcHMuaWR9IGNsYXNzTmFtZT17bGFiZWxDbGFzc05hbWV9IGRhdGEtZXJyb3I9e2Vycm9yc30+XG4gICAgICAgIHtwcm9wcy5wbGFjZWhvbGRlcn1cbiAgICAgIDwvbGFiZWw+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5UZXh0SW5wdXQucHJvcFR5cGVzID0ge1xuICBpbm5lclN0YXRlOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIGljb25QcmVmaXg6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGljb25GYWN0b3J5OiBQcm9wVHlwZXMuZnVuYyxcbiAgbWVzc2FnZXM6IFByb3BUeXBlcy5vYmplY3QsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUZXh0SW5wdXQ7XG4iXX0=